DEFAULT_MAP_DATA = '{"ID":14597,"tiles":[[["r",3],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",3]],[["r",3],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",3]],[["r",3],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",3]],[["r",3],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",3]],[["r",3],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["c",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",3]]],"teleports":0,"checkpoints":1,"loaded":true,"width":13,"height":6,"walls":"6","name":"Simple","flags":"","dateCreated":"","dateExpires":1606194000,"isBlind":false,"containsNormalStart":true,"containsReverseStart":false,"normalStartLocations":["0,5"],"reverseStartLocations":null,"code":"13.6.6.Simple...:,r3.11,r3.,r3.5,r1.5,r3.,r3.11,r3.,r3.11,r3.,r3.1,r1.9,f1.,s1.5,c1.5,r3.","oldCode":null}'
#DEFAULT_MAP_DATA = '{"ID":14637,"tiles":[[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["r",1],["o",1],["o",1],["x",1],["f",1]],[["s",1],["o",1],["r",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["c",2],["o",1],["o",1],["o",1],["o",1],["x",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["x",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["c",1],["o",1],["o",1],["o",1],["o",1],["o",1],["x",1],["f",1]],[["x",2],["r",1],["o",1],["x",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["x",1],["o",1],["o",1],["o",1],["o",1],["x",1]],[["f",1],["x",2],["r",1],["c",3],["x",2],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["x",2],["o",1],["o",1],["o",1],["s",2]],[["f",1],["x",2],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["s",2]],[["f",1],["x",2],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["x",1],["o",1],["o",1],["s",2]],[["f",1],["x",2],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["s",2]]],"teleports":0,"checkpoints":3,"loaded":true,"width":18,"height":9,"walls":"11","name":"Dualing Paths","flags":"","dateCreated":"","dateExpires":1606971600,"isBlind":false,"containsNormalStart":true,"containsReverseStart":true,"normalStartLocations":["0,0","0,1","0,2","0,3"],"reverseStartLocations":["17,5","17,6","17,7","17,8"],"code":"18.9.11.Dualing Paths...:,s1.9,r1.2,r1.2,x1.,f1.,s1.1,r1.,r1.6,r1.,c2.4,x1.,f1.,s1.15,x1.,f1.,s1.9,c1.5,x1.,f1.,x2.,r1.1,x1.1,r1.6,x1.4,x1.,f1.,x2.,r1.,c3.,x2.4,r1.3,x2.3,s2.,f1.,x2.9,r1.5,s2.,f1.,x2.12,x1.2,s2.,f1.,x2.15,s2.","oldCode":null}'
#DEFAULT_MAP_DATA = '{"ID":14632,"tiles":[[["s",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["u",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["r",1],["o",1],["c",3],["o",1],["o",1],["o",1],["o",1],["t",1],["o",1],["c",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["r",1],["o",1],["o",1],["o",1],["c",2],["r",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["r",1],["r",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]]],"teleports":1,"checkpoints":3,"loaded":true,"width":19,"height":9,"walls":"15","name":"Complex","flags":"","dateCreated":"","dateExpires":1606885200,"isBlind":false,"containsNormalStart":true,"containsReverseStart":false,"normalStartLocations":["0,0","0,1","0,2","0,3","0,4","0,5","0,6","0,7","0,8"],"reverseStartLocations":null,"code":"19.9.15.Complex...:,s1.4,r1.12,f1.,s1.7,u1.9,f1.,s1.3,r1.1,c3.4,t1.1,c1.4,f1.,s1.15,r1.1,f1.,s1.6,r1.6,r1.3,f1.,s1.2,r1.3,r1.10,f1.,s1.3,r1.13,f1.,s1.1,r1.3,c2.,r1.3,r1.6,f1.,s1.1,r1.,r1.2,r1.11,f1.","oldCode":null}'
#DEFAULT_MAP_DATA = '{"ID":14648,"tiles":[[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["z",5],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["c",3],["r",1],["o",1],["o",1],["r",1],["r",1],["o",1],["o",1],["o",1],["r",1],["o",1],["f",1]],[["s",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["z",5],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["c",2],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["z",5],["o",1],["o",1],["o",1],["o",1],["t",1],["c",4],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["r",1],["o",1],["o",1],["z",5],["r",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["z",5],["o",1],["r",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["c",1],["o",1],["z",5],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["u",1],["o",1],["o",1],["o",1],["r",1],["o",1],["f",1]]],"teleports":1,"checkpoints":4,"loaded":true,"width":19,"height":9,"walls":"15","name":"Complex","flags":"","dateCreated":"","dateExpires":1607230800,"isBlind":false,"containsNormalStart":true,"containsReverseStart":false,"normalStartLocations":["0,0","0,1","0,2","0,3","0,4","0,5","0,6","0,7","0,8"],"reverseStartLocations":null,"code":"19.9.15.Complex...:,s1.5,z5.,r1.10,f1.,s1.6,c3.,r1.2,r1.,r1.3,r1.1,f1.,s1.1,r1.11,z5.3,f1.,s1.13,c2.3,f1.,s1.1,r1.15,f1.,s1.1,z5.4,t1.,c4.9,f1.,s1.,r1.2,z5.,r1.4,r1.3,z5.1,r1.1,f1.,s1.7,r1.2,c1.1,z5.4,f1.,s1.7,r1.3,u1.3,r1.1,f1.","oldCode":null}'
#DEFAULT_MAP_DATA = '{"ID":14625,"tiles":[[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1]],[["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["z",5],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["z",5],["o",1],["o",1],["o",1],["u",4],["o",1],["r",1],["o",1],["o",1],["c",9],["o",1],["z",5],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1]],[["r",1],["o",1],["c",2],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["u",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1]],[["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["t",3],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["c",5],["o",1],["r",1]],[["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["z",5],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["c",6],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["c",7],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1]],[["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["c",4],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["c",8],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1]],[["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["t",4],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["u",2],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1]],[["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["z",5],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["z",5],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["c",1],["o",1],["o",1],["r",1]],[["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["r",1],["o",1],["c",3],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["u",3],["o",1],["o",1],["o",1],["o",1],["z",5],["t",2],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1]],[["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["t",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1],["r",1],["o",1],["o",1],["o",1],["o",1],["r",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["f",1]],[["s",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["o",1],["r",1]]],"teleports":4,"checkpoints":9,"loaded":true,"width":27,"height":19,"walls":"999","name":"Ultra Complex Unlimited","flags":"","dateCreated":"","dateExpires":1607274000,"isBlind":false,"containsNormalStart":true,"containsReverseStart":false,"normalStartLocations":["0,0","0,2","0,4","0,6","0,8","0,10","0,12","0,14","0,16","0,18"],"reverseStartLocations":null,"code":"27.19.999.Ultra Complex Unlimited...:,s1.25,r1.,r1.6,z5.18,f1.,s1.6,z5.3,u4.1,r1.2,c9.1,z5.7,r1.,r1.1,c2.14,u1.8,f1.,s1.25,r1.,r1.21,r1.3,f1.,s1.9,r1.2,t3.2,r1.6,r1.,c5.1,r1.,r1.13,z5.11,f1.,s1.3,c6.13,c7.7,r1.,r1.9,r1.15,f1.,s1.1,c4.16,c8.6,r1.,r1.14,t4.6,u2.3,f1.,s1.10,r1.14,r1.,r1.7,z5.,r1.16,f1.,s1.2,z5.4,r1.8,r1.5,c1.2,r1.,r1.13,r1.1,r1.1,c3.7,f1.,s1.5,u3.4,z5.,t2.13,r1.,r1.5,t1.6,r1.,r1.4,r1.6,f1.,s1.25,r1.","oldCode":null}'


#"teleports":0,"checkpoints":1,"loaded":true,"width":13,"height":6,"walls":"6","name":"Simple","flags":"","dateCreated":"","dateExpires":1606194000,"isBlind":false,"containsNormalStart":true,"containsReverseStart":false,"normalStartLocations":["0,5"],"reverseStartLocations":null,"code":"13.6.6.Simple...:,r3.11,r3.,r3.5,r1.5,r3.,r3.11,r3.,r3.11,r3.,r3.1,r1.9,f1.,s1.5,c1.5,r3.","oldCode":null}
MAX_WIDTH = 27
MAX_HEIGHT = 19
MAP_BOUNDS = (MAX_HEIGHT, MAX_WIDTH)
MAX_CHECKPOINTS = 14
MAX_TELEPORTS = 7
MAX_WALLS = 1000
MAX_SCORE = 10000

class Tile:
    EMPTY = 0
    G_START = 1
    R_START = 2
    FINISH = 3
    ROCK_1 = 4
    ROCK_2 = 5
    ROCK_3 = 6
    UNBUILDABLE = 7
    G_ALLOW = 8
    R_ALLOW = 9
    ICE = 14
    A = 15
    B = 16
    C = 17
    D = 18
    E = 19
    F = 20
    G = 21
    H = 22
    I = 23
    J = 24
    K = 25
    L = 26
    M = 27
    N = 28
    IN_1 = 29
    IN_2 = 30
    IN_3 = 31
    IN_4 = 32
    IN_5 = 33
    IN_6 = 34
    IN_7 = 35
    OUT_1 = 36
    OUT_2 = 37
    OUT_3 = 38
    OUT_4 = 39
    OUT_5 = 40
    OUT_6 = 41
    OUT_7 = 42
    NUM_TILES = 43
    ROCKS = (ROCK_1, ROCK_2, ROCK_3)
    INS = (IN_1, IN_2, IN_3, IN_4, IN_5, IN_6, IN_7)
    PLACEABLE = (EMPTY, ROCK_2)

TILE_DICT = {
    'o': { 1: Tile.EMPTY,
    },
    's': { 1: Tile.G_START,
           2: Tile.R_START,
    },
    'f': { 1: Tile.FINISH,
    },
    'r': { 1: Tile.ROCK_1,
           2: Tile.ROCK_2,
           3: Tile.ROCK_3
    },
    'p': { 1: Tile.UNBUILDABLE,
    },
    'x': { 1: Tile.R_ALLOW,
           2: Tile.G_ALLOW,
    },
    'z': { 1: 10,
           2: 11,
           3: 12,
           4: 13,
           5: Tile.ICE
    },
    'c': { 1: Tile.A,
           2: Tile.B,
           3: Tile.C,
           4: Tile.D,
           5: Tile.E,
           6: Tile.F,
           7: Tile.G,
           8: Tile.H,
           9: Tile.I,
          10: Tile.J,
          11: Tile.K,
          12: Tile.L,
          13: Tile.M,
          14: Tile.N,
    },
    't': { 1: Tile.IN_1,
           2: Tile.IN_2,
           3: Tile.IN_3,
           4: Tile.IN_4,
           5: Tile.IN_5,
           6: Tile.IN_6,
           7: Tile.IN_7,
    },
    'u': { 1: Tile.OUT_1,
           2: Tile.OUT_2,
           3: Tile.OUT_3,
           4: Tile.OUT_4,
           5: Tile.OUT_5,
           6: Tile.OUT_6,
           7: Tile.OUT_7,
    },
}

MAP_TYPE_DICT = {
    'Simple':                  1,
    'Normal':                  2,
    'Complex':                 3,
    'ABC\'s':                  4,
    'Centralized':             5,
    'Dualing Paths':           6,
    'Loop craziness':          7,
    'Mirror Image':            8,
    'Rocky Maze':              9,
    'Reverse Order':           10,
    'Seeing Double':           11,
    'Side to Side':            12,
    'Teleport Madness':        13,
    'Thirty':                  14,
    'Thirty Too':              15,
    'Ultimate Random':         16,
    'Ultra Complex':           17,
    'Ultra Complex Unlimited': 18
}

IMG_DICT = {
    Tile.EMPTY: 'images//EMPTY.png',
    Tile.G_START: 'images//GSTART.png',
    Tile.R_START: 'images//RSTART.png',
    Tile.FINISH: 'images//FINISH.png',
    Tile.ROCK_1: 'images//ROCK1.png',
    Tile.ROCK_2: 'images//ROCK2.png',
    Tile.ROCK_3: 'images//ROCK3.png',
    Tile.UNBUILDABLE: 'images//UNBUILDABLE.png',
    Tile.G_ALLOW: 'images//GALLOW.png',
    Tile.R_ALLOW: 'images//RALLOW.png',
    Tile.ICE: 'images//ICE.png',
    Tile.A: 'images//A.png',
    Tile.B: 'images//B.png',
    Tile.C: 'images//C.png',
    Tile.D: 'images//D.png',
    Tile.E: 'images//E.png',
    Tile.F: 'images//F.png',
    Tile.G: 'images//G.png',
    Tile.H: 'images//H.png',
    Tile.I: 'images//I.png',
    Tile.J: 'images//J.png',
    Tile.K: 'images//K.png',
    Tile.L: 'images//L.png',
    Tile.M: 'images//M.png',
    Tile.N: 'images//N.png',
    Tile.IN_1: 'images//IN1.png',
    Tile.IN_2: 'images//IN2.png',
    Tile.IN_3: 'images//IN3.png',
    Tile.IN_4: 'images//IN4.png',
    Tile.IN_5: 'images//IN5.png',
    Tile.IN_6: 'images//IN6.png',
    Tile.IN_7: 'images//IN7.png',
    Tile.OUT_1: 'images//OUT1.png',
    Tile.OUT_2: 'images//OUT2.png',
    Tile.OUT_3: 'images//OUT3.png',
    Tile.OUT_4: 'images//OUT4.png',
    Tile.OUT_5: 'images//OUT5.png',
    Tile.OUT_6: 'images//OUT6.png',
    Tile.OUT_7: 'images//OUT7.png'

}